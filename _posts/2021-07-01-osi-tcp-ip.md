---
layout: post
title: OSI 七层模型与 TCP/IP 四层模型
categories: [OSI,TCP,IP]
description: OSI 七层模型与 TCP/IP 四层模型
keywords: OSI,TCP,IP
---

## OSI 七层模型
### 定义
OSI（Open System Interconnect），即开放式系统互联。 一般都叫 OSI 参考模型，是 ISO（国际标准化组织）组织在 1985 年研究的网络互连模型。ISO 为了更好的使网络应用更为普及，推出了 OSI 参考模型。其含义就是推荐所有公司使用这个规范来控制网络。这样所有公司都有相同的规范，就能互联了。

OSI 定义了网络互连的七层框架（物理层、数据链路层、网络层、传输层、会话层、表示层、应用层），即 ISO 开放互连系统参考模型。

![osi-tcp-ip](https://cdn.jsdelivr.net/gh/Lewinz/lewinz.github.io@master/images/posts/osi_tcp_ip_1.png)

经典图：
![osi-tcp-ip](https://cdn.jsdelivr.net/gh/Lewinz/lewinz.github.io@master/images/posts/osi_tcp_ip_2.png)

## TCP/IP 四层模型
### 网络访问层
网络访问层主要是管理物理网络准备所需要的数据，包括
1. 与计算机网络适配器连接。
2. 根据合适的方式调整数据传输（不同的传输介质和网络格式不同）
3. 把数据转化为电子流或脉冲的形式在传输介质上传输。
4. 对发送的数据添加错误检查信息、对接收的数据进行数据检验。

### 网际层
网际层主要是解决数据由一个计算机的 IP 如何路由到目标计算机的过程规范，我们的计算机消息发送出去后，是经过了哪些处理才能正确的找到目标计算机，其中包含了 `IP`、`ARP`、`RARP`、`ICMP` 等协议。

- MAC 地址  
我们的消息如果要在网络中找到对应的目标计算机，那么我们的计算机一定要有一个唯一的地址标识才行，而能区分我们计算机唯一的标识就是我们的网络适配器地址，我们的网络适配器地址是由厂商生产时候就规定了一个复杂的英文串组成。

- IP 地址  
由于 MAC 地址是一段复杂的字串组成不利于我们计算机进行逻辑运算，而我们的消息要在网络中快速路由到目标计算机，那么就一定需要有一套逻辑运算的规则，，所以就有了 `ARP` 协议，`ARP` 协议规定了如何把 MAC 地址转换为可以用于逻辑运算的数字 IP 地址。

- 域名  
因为 IP 地址过长不方便进行记忆，所以为了让用户更方便记忆所以衍生了 DNS 的服务，DNS 完成了把 IP 地址转为简单容易记忆的域名地址。

### 传输层
传输层主要提供以下几个功能
1. 提供应用程序接口，为网络应用程序提供网络访问的途径；
2. 提供可以从多个应用层序接收消息的功能（多路复用），同时也提供可以把消息分发给应用程序的功能（多路分解）。
3. 对数据进行错误检测、流量控制。

TCP/UDP 协议就属于传输层

### 应用层
TCP/IP 的应用层对应于 OSI 的应用层、会话层、网络层，它们分别功能如下
1. 应用层：为用户的应用提供服务并支持网络访问。
2. 会话层：负责管理网络中计算之间的通信，提供传输层不具备的连接相关功能。
3. 表示层：负责转化数据格式，并处理数据加密和数据压缩。

## 区别
OSI 七层模型 ISO（国际标准化组织）提出的一套理论性的网络标准化协议，可以把它看成一本教科书，它在指定之前是没有经过实践的，而为什么我们实践的过程中又没有遵循 OSI 的标准来分层呢，是因为我们在实践的过程中发现有些功能不必要分得那么细，而 TCP 四层模型就是我们实践过程中发现比较合理的分层，虽然我们实际过程中都没有按 OSI 分为七层，但是 OSI 对我们实践过程分层有着指导性的意义。

OSI 引入了服务、接口、协议、分层的概念，TCP/IP 借鉴了 OSI 的这些概念建立 TCP/IP 模型。

OSI 先有模型，后有协议，先有标准，后进行实践；而 TCP/IP 则相反，先有协议和应用再提出了模型，且是参照的 OSI 模型。

OSI 是一种理论下的模型，而 TCP/IP 已被广泛使用，成为网络互联事实上的标准。

![osi-tcp-ip](https://cdn.jsdelivr.net/gh/Lewinz/lewinz.github.io@master/images/posts/osi_tcp_ip_3.jpeg)

![osi-tcp-ip](https://cdn.jsdelivr.net/gh/Lewinz/lewinz.github.io@master/images/posts/osi_tcp_ip_4.png)